{% extends '::base.html.twig' %}
{% block title %}Projects{% endblock %}

{% block content %}

<div id="slideshow-container">
    <div id="slideshow">
    </div>
</div>

<script>
    $(document).ready(function(){
        var width = $('.project').outerWidth();
        var amount = parseInt("{{ projects|length }}");
        var html;
        var paused = false;
        
        //on hover pause
        $('#projects').hover(function(){
            paused = true;
        }, function(){
            paused = false;
        });
        
        //dont animate if there are not enough elements
        if (amount < 4) return;
        
        setInterval(function() {
            
            //add first element to the end
            $('.project:eq(0)').clone().appendTo('#projects');
                       
            if (!paused) $('#projects').animate({"left" : -width}, "{{ projects_animation_speed }}", function(){
                //remove it after we finish animating and reset left
                $('#projects').css({"left" : 0});
                $('.project:eq(0)').remove();
            });
        }, "{{ projects_interval }}");
    });
</script>

<div id ="project-slider">
    <div id="projects">
        {% for project in projects %}
        <div class="project">
            <img src="{{ asset('img/magnadude.jpg') }}" alt="{{ project.title }}"/>
            <div class="title-wrapper">
                <div class="project-title">{{ project.title }}</div>
                <div class="project-subtitle">{{ project.subtitle }}</div>
            </div>
            <div class="project-intro">{{ project.intro }}</div>
        </div>
        {% endfor %}
    </div>
</div>

<hr/>

<div id="aboutme">
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam eu tortor elit, vestibulum molestie enim. Morbi elementum egestas pretium. Duis et congue metus. Duis commodo accumsan nibh volutpat lacinia. Proin volutpat justo eu lacus congue non sagittis neque blandit. Fusce sagittis ligula et massa consequat pretium vehicula dui porta. Suspendisse fringilla tempus augue sit amet hendrerit. Proin id lorem eu risus viverra congue. Duis leo magna, cursus eget suscipit non, suscipit eu turpis.</p>
</div>

{% endblock %}